{"ast":null,"code":"var __jsx = React.createElement;\n\n/**\n * @author Aldi Mustafri\n * @email aldimustafri@live.com\n * @create date 2020-09-21 03:05:51\n * @modify date 2020-09-21 03:05:51\n * @desc [description]\n */\nimport React, { Fragment, useState } from \"react\";\nimport { Container, Form, Button, Col, Row } from \"react-bootstrap\";\nimport Axios from \"axios\";\nimport styles from \"./Newsletter.module.scss\";\nimport { ToastContainer, toast, Zoom } from \"react-toastify\";\nimport Router from \"next/router\";\n\nfunction Newsletter() {\n  const {\n    0: name,\n    1: setName\n  } = useState();\n  const {\n    0: email,\n    1: setEmail\n  } = useState();\n  const {\n    0: address,\n    1: setAddress\n  } = useState();\n\n  async function handleSubmit(event) {\n    event.preventDefault();\n    const url = \"/api/newsletter\";\n\n    try {\n      const response = await Axios.post(url, {\n        name: name,\n        email: email,\n        address: address\n      });\n\n      if (response.status === 200) {\n        toast.dark(\"Thanks! your data added :D\", {\n          position: \"top-center\",\n          autoClose: 5000,\n          hideProgressBar: false,\n          closeOnClick: true,\n          pauseOnHover: true,\n          draggable: true,\n          progress: undefined,\n          transition: Zoom\n        });\n        return Router.reload();\n      } else {\n        console.log(\"Ups, Something went wrong :(\");\n        let error = new Error(response.statusText);\n        error.response = response;\n        throw error;\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  return __jsx(Fragment, null, __jsx(Container, null, __jsx(\"div\", {\n    className: styles.card\n  }, __jsx(ToastContainer, null), __jsx(\"div\", {\n    className: styles.padding\n  }, __jsx(Form, {\n    onSubmit: handleSubmit\n  }, __jsx(Form.Row, null, __jsx(Form.Group, {\n    as: Col\n  }, __jsx(Form.Label, null, \"Name\"), __jsx(Form.Control, {\n    placeholder: \"Enter Name\",\n    onChange: event => setName(event.target.value),\n    required: true\n  })), __jsx(Form.Group, {\n    as: Col,\n    controlId: \"formGridEmail\"\n  }, __jsx(Form.Label, null, \"Email\"), __jsx(Form.Control, {\n    type: \"email\",\n    placeholder: \"Enter Email\",\n    onChange: event => setEmail(event.target.value),\n    required: true\n  }))), __jsx(Form.Group, {\n    controlId: \"formGridAddress1\"\n  }, __jsx(Form.Label, null, \"Address\"), __jsx(Form.Control, {\n    placeholder: \"Enter Address\",\n    onChange: event => setAddress(event.target.value),\n    required: true\n  })), __jsx(Button, {\n    variant: \"outline-success\",\n    type: \"submit\"\n  }, \"Submit\"))))));\n}\n\nexport default Newsletter;","map":null,"metadata":{},"sourceType":"module"}