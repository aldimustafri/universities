{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nvar __jsx = React.createElement;\n\n/**\n * @author Aldi Mustafri\n * @email aldimustafri@live.com\n * @create date 2020-09-18 19:12:16\n * @modify date 2020-09-18 19:12:16\n * @desc [description]\n */\nimport React, { Fragment, useState, useEffect } from \"react\";\nimport Loading from \"../components/Body/Loading\";\nimport Universities from \"../components/Body/universities\";\nimport Header from \"../components/Header\";\nimport Axios from \"axios\";\nimport Head from \"next/head\";\n\nfunction index() {\n  var _useState = useState([]),\n      data = _useState[0],\n      setData = _useState[1];\n\n  var _useState2 = useState(false),\n      loading = _useState2[0],\n      SetLoading = _useState2[1];\n\n  var _useState3 = useState([]),\n      dataSearch = _useState3[0],\n      setDataSearch = _useState3[1];\n\n  var searchFunction = function searchFunction(dataSearch) {\n    setDataSearch(dataSearch);\n  };\n\n  useEffect(function () {\n    var url = \"http://universities.hipolabs.com/search\";\n\n    var fetchData = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var result;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                SetLoading(true);\n                _context.prev = 1;\n                _context.next = 4;\n                return Axios.get(url, {\n                  params: {\n                    dataType: \"jsonp\"\n                  }\n                });\n\n              case 4:\n                result = _context.sent;\n                setData(result.data);\n                _context.next = 11;\n                break;\n\n              case 8:\n                _context.prev = 8;\n                _context.t0 = _context[\"catch\"](1);\n                console.log(_context.t0);\n\n              case 11:\n                SetLoading(false);\n\n              case 12:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[1, 8]]);\n      }));\n\n      return function fetchData() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    fetchData();\n  }, []);\n  return __jsx(Fragment, null, __jsx(Head, null, __jsx(\"title\", null, \"Universities - Home\")), __jsx(Header, {\n    onSearch: searchFunction\n  }), loading ? __jsx(Loading, null) : __jsx(Universities, {\n    data: data,\n    dataSearch: dataSearch\n  }));\n}\n\nexport default index;","map":null,"metadata":{},"sourceType":"module"}